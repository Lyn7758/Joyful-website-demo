<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="contact.title">Contact Us - Your Fashion Collection</title>
  <link rel="icon" href="public/media/icon.png" type="image/x-icon">
  <!-- Import Montserrat font & Font Awesome for icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="public/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <style>
    /* Global Reset & Shared Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body, html {
      font-family: 'Montserrat', sans-serif;
      scroll-behavior: smooth;
      color: #333;
    }
    
    /* Fixed Navigation Header – same as index.html */
    header#header {
      position: fixed;
      top: 0;
      width: 100%;
      height: var(--header-height, 80px);
      background: #111;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      z-index: 100;
      transition: all 0.3s ease-in-out;
    }
    header#header nav {
      max-width: 1800px;
      margin: auto;
      padding: 10px 60px 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header#header .logo img {
      height: 60px;
      display: block;
    }
    .nav-links {
      list-style: none;
      display: flex;
    }
    .nav-links li {
      margin-left: 20px;
    }
    .nav-links li a {
      text-decoration: none;
      color: #fff;
      font-weight: 500;
      font-size: 1.2rem;
      transition: color 0.3s;
    }
    .nav-links li a:hover {
      color: #e63946;
    }
    
    /* Language Selector Styles */
    .language-selector {
      position: fixed;
      right: 20px;
      top: 30px; /* Adjusted to align nicely with header text */
      z-index: 1100;
      font-family: 'Montserrat', sans-serif;
    }
    .lang-btn {
      background: transparent;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      font-size: 1.2rem;
      font-weight: bold;
      color: #333; /* Changed from white to dark to match other pages */
    }
    .lang-btn img {
      width: 24px;
      height: auto;
      margin-right: 8px;
    }
    .lang-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-top: 5px;
      min-width: 140px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 1100;
    }
    .lang-dropdown a {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      text-decoration: none;
      color: #333;
      transition: background 0.3s ease;
      font-size: 1.1rem;
    }
    .lang-dropdown a:hover {
      background: #f0f0f0;
    }
    .lang-dropdown img {
      margin-right: 8px;
      width: 16px;
      height: auto;
    }
    
    /* Main Contact Container */
    #contact {
      margin-top: var(--header-height, 80px);
      padding: 60px 20px;
      text-align: center;
    }
    #contact h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    #contact h3 {
      font-size: 1rem;
      margin-bottom: 40px;
      color: #555;
    }
    
    /* Contact Methods Grid */
    .contact-methods {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto 60px;
    }
    .method-card {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
      text-align: center;
      cursor: pointer;
    }
    .method-card:hover {
      transform: scale(1.02);
    }
    .method-card i {
      font-size: 1.4rem;
      margin-bottom: 10px;
      color: #e63946;
    }
    .method-card h2 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      font-weight: 700;
    }
    .method-card p {
      font-size: 0.9rem;
      line-height: 1.5;
      color: #555;
    }
    
    /* Images & Map Layout */
    .visuals-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
    .visuals-container img {
      width: 100%;
      border-radius: 8px;
      object-fit: cover;
      height: 300px;
    }
    /* Make the map wider */
    .map-container {
      grid-column: span 3;
      width: 100%;
      height: 400px;
      margin-top: 20px;
    }
    .map-container iframe {
      width: 100%;
      height: 100%;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    
    @media (max-width: 768px) {
      .contact-methods {
        grid-template-columns: 1fr;
      }
      .visuals-container {
        grid-template-columns: 1fr;
      }
      .map-container {
        grid-column: span 1;
        height: 300px;
      }
    }

    /* New Styles for Overlay and Pop-out Sidebar */
    /* Overlay */
    #overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 98;
    }
    #overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    /* Pop-out Sidebar - 25vw width */
    .popout-sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 25vw;
      height: 100%;
      background: #fff;
      box-shadow: -2px 0 6px rgba(0, 0, 0, 0.2);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 99;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .popout-sidebar.active {
      transform: translateX(0);
    }
    /* Close Button */
    #close-popout {
      background: transparent;
      border: none;
      font-size: 1.5rem;
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
    }
    /* Pop-out Content */
    .popout-content {
      width: 100%;
      text-align: center;
    }
    .popout-content h2 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: #333;
      border-bottom: 2px solid #e63946;
      padding-bottom: 10px;
    }
    .popout-content p {
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 15px;
      color: #555;
    }
    .popout-content img {
      display: block;
      margin: 10px auto;
      max-width: 200px;
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <!-- Navigation Header -->
  <header id="header">
    <nav>
      <div class="logo">
        <a href="index.html">
          <img src="public/media/logo.png" alt="Your Brand Logo">
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="index.html" data-i18n="nav.home">Home</a></li>
        <li><a href="products.html" data-i18n="nav.products">Products</a></li>
        <li><a href="about.html" data-i18n="nav.about">About Us</a></li>
        <li><a href="advantages.html" data-i18n="nav.whyus">Why Us</a></li>
        <li><a href="contact.html" data-i18n="nav.contact">Contact Us</a></li>
      </ul>
    </nav>
  </header>
  
  <!-- Language Selector: Fixed at Top-Right Corner -->
  <div class="language-selector">
    <button class="lang-btn">
      <img src="https://flagcdn.com/24x18/us.png" alt="English">
      <span class="lang-text">English</span>
    </button>
    <div class="lang-dropdown">
      <a href="#" data-lang="en">
        <img src="https://flagcdn.com/16x12/us.png" alt="English">
        <span>English</span>
      </a>
      <a href="#" data-lang="es">
        <img src="https://flagcdn.com/16x12/es.png" alt="Español">
        <span>Español</span>
      </a>
      <a href="#" data-lang="zh">
        <img src="https://flagcdn.com/16x12/cn.png" alt="中文">
        <span>中文</span>
      </a>
    </div>
  </div>
  
  <!-- Contact Section -->
  <section id="contact">
    <h1 data-i18n="contact.h1">HOW TO CONTACT JOYFUL CLIENT SERVICES</h1>
    <h3 data-i18n="contact.h3">Choose your preferred method of contact and connect with us</h3>
    
    <!-- Contact Methods Grid -->
    <div class="contact-methods">
      <div class="method-card" data-method="phone">
        <i class="fas fa-phone-alt"></i>
        <h2 data-i18n="method.phone.title">PHONE</h2>
        <p>+86 123 456 7890</p>
      </div>
      <div class="method-card" data-method="email">
        <i class="fas fa-envelope"></i>
        <h2 data-i18n="method.email.title">EMAIL</h2>
        <p><strong>info@joyfulfashion.com</strong></p>
      </div>
      <div class="method-card" data-method="landline">
        <i class="fas fa-fax"></i>
        <h2 data-i18n="method.landline.title">LANDLINE</h2>
        <p>+86 555 987 6543</p>
      </div>
      <div class="method-card" data-method="wechat">
        <i class="fab fa-weixin"></i>
        <h2 data-i18n="method.wechat.title">WECHAT</h2>
        <p>Scan our QR code to connect via WeChat.</p>
      </div>
    </div>

    <!-- Visuals & Map -->
    <div class="visuals-container">
      <img src="public/media/contact/contact4.jpg" alt="Office">
      <img src="public/media/contact/contact2.jpg" alt="Factory">
      <img src="public/media/contact/contact3.jpg" alt="Showroom">
      
      <!-- Bigger Map -->
      <div class="map-container">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6762.339698144318!2d120.85953507611498!3d32.06465452004904!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35b177bab9ff0345%3A0xd96aa17709fcede3!2sHaobang%20Building!5e0!3m2!1sen!2sus!4v1739354909119!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
  </section>

  <!-- New Overlay Element -->
  <div id="overlay"></div>

  <!-- New Pop-out Sidebar -->
  <div id="popout" class="popout-sidebar">
    <button id="close-popout">&times;</button>
    <div class="popout-content">
      <!-- Dynamic content will be injected here -->
    </div>
  </div>

  <!-- JavaScript for Pop-out Functionality -->
  <script>
    // Update the popout content based on the method clicked
    function updatePopoutContent(method) {
      // Retrieve current language (default to 'en')
      const lang = localStorage.getItem('selectedLanguage') || 'en';
      const popoutTranslations = {
        en: {
          "contact.popout.phone": `<h2>Phone Contact</h2>
            <p>Get in touch with us over the phone. Our team is ready to assist you with any inquiries you may have. Please call <strong>+86 123 456 7890</strong> during our working hours (9am - 5pm).</p>`,
          "contact.popout.email": `<h2>Email Contact</h2>
            <p>Send us an email and we'll get back to you as soon as possible. For any questions or comments, please email <strong>info@joyfulfashion.com</strong>. We typically respond within 24 hours.</p>`,
          "contact.popout.landline": `<h2>Landline Contact</h2>
            <p>Prefer a traditional call? Reach us on our landline at <strong>+86 555 987 6543</strong>. Our office is available for direct communication during business hours.</p>`,
          "contact.popout.wechat": `<h2>WeChat Contact</h2>
            <p>Connect with us on WeChat for instant support and updates. Simply scan the QR code below using your WeChat app to add us.</p>
            <img src="public/media/contact/QR.png" alt="WeChat QR Code">`
        },
        es: {
          "contact.popout.phone": `<h2>Contacto Telefónico</h2>
            <p>Ponte en contacto con nosotros por teléfono. Nuestro equipo está listo para ayudarte con cualquier consulta. Por favor llama al <strong>+86 123 456 7890</strong> durante nuestro horario de atención (9am - 5pm).</p>`,
          "contact.popout.email": `<h2>Contacto por Correo</h2>
            <p>Envíanos un correo y te responderemos lo antes posible. Para cualquier pregunta o comentario, por favor envía un correo a <strong>info@joyfulfashion.com</strong>. Normalmente respondemos en 24 horas.</p>`,
          "contact.popout.landline": `<h2>Contacto por Teléfono Fijo</h2>
            <p>¿Prefieres una llamada tradicional? Comunícate con nosotros en nuestro teléfono fijo <strong>+86 555 987 6543</strong>. Nuestra oficina está disponible para comunicación directa durante el horario laboral.</p>`,
          "contact.popout.wechat": `<h2>Contacto por WeChat</h2>
            <p>Conéctate con nosotros a través de WeChat para obtener soporte y actualizaciones al instante. Simplemente escanea el código QR a continuación usando tu aplicación de WeChat para agregarnos.</p>
            <img src="public/media/contact/QR.png" alt="WeChat QR Code">`
        },
        zh: {
          "contact.popout.phone": `<h2>电话联系</h2>
            <p>请通过电话与我们联系。我们的团队随时准备协助您的任何咨询。请在工作时间（上午9点到下午5点）拨打 <strong>+86 123 456 7890</strong>。</p>`,
          "contact.popout.email": `<h2>电子邮件联系</h2>
            <p>请给我们发送电子邮件，我们会尽快回复。对于任何问题或评论，请发送邮件至 <strong>info@joyfulfashion.com</strong>。我们通常在24小时内回复。</p>`,
          "contact.popout.landline": `<h2>固定电话联系</h2>
            <p>如果你偏好传统通话，请拨打我们的固定电话 <strong>+86 555 987 6543</strong>。我们的办公室在工作时间提供直接沟通。</p>`,
          "contact.popout.wechat": `<h2>微信联系</h2>
            <p>请通过微信与我们联系以获得即时支持和更新。只需使用微信扫描下面的二维码即可添加我们。</p>
            <img src="public/media/contact/QR.png" alt="WeChat QR Code">`
        }
      };

      const popoutContent = document.querySelector('#popout .popout-content');
      let key = "";
      switch(method) {
         case 'phone': key = "contact.popout.phone"; break;
         case 'email': key = "contact.popout.email"; break;
         case 'landline': key = "contact.popout.landline"; break;
         case 'wechat': key = "contact.popout.wechat"; break;
         default: key = "";
      }
      if(key && popoutTranslations[lang] && popoutTranslations[lang][key]) {
         popoutContent.innerHTML = popoutTranslations[lang][key];
      } else {
         popoutContent.innerHTML = `<h2>Contact Details</h2><p>Please select a method to see more details.</p>`;
      }
    }

    // Show overlay and sidebar when a method card is clicked
    document.querySelectorAll('.method-card').forEach(card => {
      card.addEventListener('click', function() {
        const method = this.getAttribute('data-method');
        updatePopoutContent(method);
        document.getElementById('overlay').classList.add('active');
        document.getElementById('popout').classList.add('active');
      });
    });

    // Hide pop-out when clicking on the overlay or the close button
    document.getElementById('overlay').addEventListener('click', function() {
      this.classList.remove('active');
      document.getElementById('popout').classList.remove('active');
    });
    document.getElementById('close-popout').addEventListener('click', function() {
      document.getElementById('overlay').classList.remove('active');
      document.getElementById('popout').classList.remove('active');
    });
  </script>
  
  <!-- Language Switcher Script with localStorage Persistence -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Translation dictionary for English, Spanish, and Chinese
      const translations = {
        en: {
          "nav.home": "Home",
          "nav.products": "Products",
          "nav.about": "About Us",
          "nav.whyus": "Why Us",
          "nav.contact": "Contact Us",
          "contact.h1": "HOW TO CONTACT JOYFUL CLIENT SERVICES",
          "contact.h3": "Choose your preferred method of contact and connect with us",
          "method.phone.title": "PHONE",
          "method.email.title": "EMAIL",
          "method.landline.title": "LANDLINE",
          "method.wechat.title": "WECHAT",
          "footer.text": "&copy; CopyRight 2024 All Right Reserved Joyful Fashion 苏ICP备2023052917号",
          "contact.title": "Contact Us - Your Fashion Collection"
        },
        es: {
          "nav.home": "Inicio",
          "nav.products": "Productos",
          "nav.about": "Sobre Nosotros",
          "nav.whyus": "Por Qué Nosotros",
          "nav.contact": "Contáctanos",
          "contact.h1": "CÓMO CONTACTAR A LOS SERVICIOS AL CLIENTE DE JOYFUL",
          "contact.h3": "Elige tu método preferido para contactarnos y conéctate con nosotros",
          "method.phone.title": "TELÉFONO",
          "method.email.title": "CORREO",
          "method.landline.title": "TELÉFONO FIJO",
          "method.wechat.title": "WECHAT",
          "footer.text": "&copy; CopyRight 2024 Joyful Fashion. Todos los derechos reservados. 苏ICP备2023052917号",
          "contact.title": "Contáctanos - Tu Colección de Moda"
        },
        zh: {
          "nav.home": "首页",
          "nav.products": "产品",
          "nav.about": "关于我们",
          "nav.whyus": "为什么选择我们",
          "nav.contact": "联系我们",
          "contact.h1": "如何联系快乐客户服务",
          "contact.h3": "选择你喜欢的联系方式，与我们取得联系",
          "method.phone.title": "电话",
          "method.email.title": "电子邮件",
          "method.landline.title": "固定电话",
          "method.wechat.title": "微信",
          "footer.text": "&copy; CopyRight 2024 快乐时尚 苏ICP备2023052917号",
          "contact.title": "联系我们 - 你的时尚系列"
        }
      };

      // Mapping for language names (for the button text)
      const languageNames = {
        en: "English",
        es: "Español",
        zh: "中文"
      };

      const flagIcons = {
        en: "https://flagcdn.com/24x18/us.png",
        es: "https://flagcdn.com/24x18/es.png",
        zh: "https://flagcdn.com/24x18/cn.png"
      };

      // Retrieve stored language from localStorage, defaulting to English if not set
      let currentLanguage = localStorage.getItem('selectedLanguage') || 'en';

      function updateLanguage(lang) {
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (translations[lang] && translations[lang][key]) {
            el.innerHTML = translations[lang][key];
          }
        });
        if (translations[lang] && translations[lang]["contact.title"]) {
          document.title = translations[lang]["contact.title"];
        }
        document.querySelector('.lang-btn img').src = flagIcons[lang];
        document.querySelector('.lang-btn .lang-text').innerText = languageNames[lang];
      }
      
      updateLanguage(currentLanguage);
      
      const langBtn = document.querySelector('.lang-btn');
      const langDropdown = document.querySelector('.lang-dropdown');
      
      langBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        langDropdown.style.display = (langDropdown.style.display === 'block') ? 'none' : 'block';
      });
      
      document.addEventListener('click', function() {
        langDropdown.style.display = 'none';
      });
      
      langDropdown.querySelectorAll('a').forEach(a => {
        a.addEventListener('click', function(e) {
          e.preventDefault();
          const lang = this.getAttribute('data-lang');
          currentLanguage = lang;
          updateLanguage(lang);
          localStorage.setItem('selectedLanguage', lang);
        });
      });
    });
  </script>
  
  <!-- Footer -->
  <footer>
    <p data-i18n="footer.text">&copy; CopyRight 2024 All Right Reserved Joyful Fashion 苏ICP备2023052917号</p>
  </footer>
</body>
</html>
