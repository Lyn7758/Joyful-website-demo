<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="products.title">Products - Your Fashion Collection</title>
  <link rel="icon" href="public/media/icon.png" type="image/x-icon">
  <!-- Import Montserrat font -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="public/css/style.css" />
  <style>
    /* Additional styles for the products page to ensure 5 cards in one row with uniform, larger icons */
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
      margin: 40px auto;
      width: 80%;
    }
    .product-category {
      position: relative;
      overflow: hidden;
      border-radius: 8px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }
    .product-category:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    .product-category img {
      width: 100%;
      height: 1000px;  /* Increased fixed height to make them longer */
      object-fit: cover;
      display: block;
      filter: grayscale(100%); /* Icons appear greyed out by default */
      transition: filter 0.3s ease;
    }
    .product-category:hover img {
      filter: grayscale(0%); /* Full color on hover */
    }
    .product-category .category-title {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.6);
      color: #fff;
      text-align: center;
      padding: 10px;
      font-size: 1.2rem;
    }
    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .categories-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 600px) {
      .categories-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    /* Language Selector styles */
    .language-selector {
      position: fixed;
      right: 20px;
      top: 30px;  /* Adjusted to align nicely with header text */
      z-index: 1000;
      font-family: 'Montserrat', sans-serif;
    }
    .lang-btn {
      background: transparent;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      font-size: 1.2rem;
      font-weight: bold;
      color: #333;
    }
    .lang-btn img {
      width: 24px;
      height: auto;
      margin-right: 8px;
    }
    .lang-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 100%;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-top: 5px;
      min-width: 140px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 100;
    }
    .lang-dropdown a {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      text-decoration: none;
      color: #333;
      transition: background 0.3s ease;
      font-size: 1.1rem;
    }
    .lang-dropdown a:hover {
      background: #f0f0f0;
    }
    .lang-dropdown img {
      margin-right: 8px;
      width: 16px;
      height: auto;
    }
  </style>
</head>
<body>
  <!-- Fixed Navigation Header -->
  <header id="header">
    <nav>
      <div class="logo">
        <a href="index.html">
          <img src="public/media/logo.png" alt="Your Brand Logo">
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="index.html" data-i18n="nav.home">Home</a></li>
        <li><a href="products.html" data-i18n="nav.products">Products</a></li>
        <li><a href="about.html" data-i18n="nav.about">About Us</a></li>
        <li><a href="advantages.html" data-i18n="nav.whyus">Why Us</a></li>
        <li><a href="contact.html" data-i18n="nav.contact">Contact Us</a></li>
      </ul>
    </nav>
  </header>
  
  <!-- Language Selector: Fixed at Top-Right Corner -->
  <div class="language-selector">
    <button class="lang-btn">
      <img src="https://flagcdn.com/24x18/us.png" alt="English">
      <span class="lang-text">English</span>
    </button>
    <div class="lang-dropdown">
      <a href="#" data-lang="en">
        <img src="https://flagcdn.com/16x12/us.png" alt="English">
        <span>English</span>
      </a>
      <a href="#" data-lang="es">
        <img src="https://flagcdn.com/16x12/es.png" alt="Español">
        <span>Español</span>
      </a>
      <a href="#" data-lang="zh">
        <img src="https://flagcdn.com/16x12/cn.png" alt="中文">
        <span>中文</span>
      </a>
    </div>
  </div>

  <!-- Products Section -->
  <section id="products" class="animate-on-scroll">
    <div class="categories-grid">
      <a href="seamless.html" class="product-category">
        <img src="public/media/seamless.JPG" alt="Seamless">
        <div class="category-title" data-i18n="product.seamless">Seamless</div>
      </a>
      <a href="top.html" class="product-category">
        <img src="public/media/top.JPG" alt="Top">
        <div class="category-title" data-i18n="product.tops">Top</div>
      </a>
      <a href="dress.html" class="product-category">
        <img src="public/media/dress.JPG" alt="Dress">
        <div class="category-title" data-i18n="product.dress">Dress</div>
      </a>
      <a href="coats.html" class="product-category">
        <img src="public/media/coat.JPG" alt="Coats">
        <div class="category-title" data-i18n="product.coats">Coats</div>
      </a>
      <a href="pants.html" class="product-category">
        <img src="public/media/pants.JPG" alt="Pants">
        <div class="category-title" data-i18n="product.pants">Pants</div>
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p data-i18n="footer.text">&copy; CopyRight 2024 All Right Reserved Joyful Fashion 苏ICP备2023052917号</p>
  </footer>

  <script src="public/js/main.js"></script>
  <!-- Language Switcher Script with localStorage Persistence -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Translation dictionary for English, Spanish, and Chinese
      const translations = {
        en: {
          "nav.home": "Home",
          "nav.products": "Products",
          "nav.about": "About Us",
          "nav.whyus": "Why Us",
          "nav.contact": "Contact Us",
          "product.seamless": "Seamless",
          "product.tops": "Top",
          "product.dress": "Dress",
          "product.coats": "Coats",
          "product.pants": "Pants",
          "footer.text": "&copy; CopyRight 2024 All Right Reserved Joyful Fashion 苏ICP备2023052917号",
          "products.title": "Products - Your Fashion Collection"
        },
        es: {
          "nav.home": "Inicio",
          "nav.products": "Productos",
          "nav.about": "Sobre Nosotros",
          "nav.whyus": "Por Qué Nosotros",
          "nav.contact": "Contáctanos",
          "product.seamless": "Sin costuras",
          "product.tops": "Top",
          "product.dress": "Vestido",
          "product.coats": "Abrigos",
          "product.pants": "Pantalones",
          "footer.text": "&copy; CopyRight 2024 Joyful Fashion. Todos los derechos reservados. 苏ICP备2023052917号",
          "products.title": "Productos - Tu Colección de Moda"
        },
        zh: {
          "nav.home": "首页",
          "nav.products": "产品",
          "nav.about": "关于我们",
          "nav.whyus": "为什么选择我们",
          "nav.contact": "联系我们",
          "product.seamless": "无缝",
          "product.tops": "上衣",
          "product.dress": "连衣裙",
          "product.coats": "外套",
          "product.pants": "裤子",
          "footer.text": "&copy; CopyRight 2024 快乐时尚 苏ICP备2023052917号",
          "products.title": "产品 - 你的时尚系列"
        }
      };

      // Mapping for language names (for the button text)
      const languageNames = {
        en: "English",
        es: "Español",
        zh: "中文"
      };

      const flagIcons = {
        en: "https://flagcdn.com/24x18/us.png",
        es: "https://flagcdn.com/24x18/es.png",
        zh: "https://flagcdn.com/24x18/cn.png"
      };

      // Retrieve stored language from localStorage, defaulting to English if not set
      let currentLanguage = localStorage.getItem('selectedLanguage') || 'en';

      function updateLanguage(lang) {
        // Update all elements with a data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (translations[lang] && translations[lang][key]) {
            el.innerHTML = translations[lang][key];
          }
        });
        // Update document title
        if (translations[lang] && translations[lang]["products.title"]) {
          document.title = translations[lang]["products.title"];
        }
        // Update the language button flag and text
        document.querySelector('.lang-btn img').src = flagIcons[lang];
        document.querySelector('.lang-btn .lang-text').innerText = languageNames[lang];
      }
      
      // Set the language on page load
      updateLanguage(currentLanguage);
      
      // Toggle dropdown display
      const langBtn = document.querySelector('.lang-btn');
      const langDropdown = document.querySelector('.lang-dropdown');
      
      langBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        langDropdown.style.display = (langDropdown.style.display === 'block') ? 'none' : 'block';
      });
      
      // Hide dropdown when clicking outside
      document.addEventListener('click', function() {
        langDropdown.style.display = 'none';
      });
      
      // Update language when an option is selected and store it in localStorage
      langDropdown.querySelectorAll('a').forEach(a => {
        a.addEventListener('click', function(e) {
          e.preventDefault();
          const lang = this.getAttribute('data-lang');
          currentLanguage = lang;
          updateLanguage(lang);
          localStorage.setItem('selectedLanguage', lang);
        });
      });
    });
  </script>
</body>
</html>
